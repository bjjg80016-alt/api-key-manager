<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册问题修复</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        .btn { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .alert { padding: 15px; border-radius: 5px; margin: 10px 0; }
        .alert-error { background: #f8d7da; color: #721c24; }
        .alert-success { background: #d4edda; color: #155724; }
        input { width: 100%; padding: 8px; margin: 5px 0; border: 1px solid #ddd; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔧 注册问题修复</h1>
        
        <div id="status">正在检查系统状态...</div>
        
        <h3>问题诊断：</h3>
        <ul>
            <li>❌ 使用了service_role密钥而不是anon密钥</li>
            <li>❌ 数据库表可能未创建</li>
            <li>❌ Supabase项目配置问题</li>
        </ul>
        
        <h3>解决方案：</h3>
        <ol>
            <li>在Supabase Dashboard中获取正确的anon密钥</li>
            <li>运行数据库初始化脚本</li>
            <li>配置认证设置</li>
        </ol>
        
        <button class="btn" onclick="testConnection()">测试连接</button>
        <button class="btn" onclick="showCorrectKey()">显示正确密钥</button>
    </div>

    <script>
        function testConnection() {
            document.getElementById('status').innerHTML = '正在测试连接...';
            // 这里会显示连接测试结果
        }
        
        function showCorrectKey() {
            alert('请在Supabase Dashboard中获取anon密钥，而不是service_role密钥');
        }
    </script>
</body>
</html>
